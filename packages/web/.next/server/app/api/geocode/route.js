"use strict";(()=>{var e={};e.id=129,e.ids=[129],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7561:e=>{e.exports=require("node:fs")},3977:e=>{e.exports=require("node:fs/promises")},612:e=>{e.exports=require("node:os")},9411:e=>{e.exports=require("node:path")},9256:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>R,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{GET:()=>d,OPTIONS:()=>p});var a=t(1841),n=t(5328),i=t(2153),s=t(6347),u=t(6250),c=t(7539);async function d(e){let r=Date.now(),t=e.nextUrl.searchParams,o=t.get("q"),a=t.get("count"),n=t.get("single");if(!o||0===o.trim().length)return(0,c.o3)(c.R0.missingParameter("q"));let i=5;if(a){let e=parseInt(a,10);if(isNaN(e)||e<1||e>10)return(0,c.o3)(c.R0.badRequest("Count must be a number between 1 and 10",{provided:a}));i=e}try{let e;e="true"===n?[await (0,s.lF)(o.trim(),{count:1})]:await (0,s.BV)(o.trim(),{count:i});let t=Date.now()-r;return(0,c.o3)((0,c.Xj)({results:e,query:o.trim()},{duration:t}))}catch(e){if((0,u.ei)(e))switch(e.code){case"GEOCODING_NOT_FOUND":return(0,c.o3)(c.R0.notFound(`No locations found for query: ${o}`));case"GEOCODING_INVALID_INPUT":return(0,c.o3)(c.R0.badRequest(e.userMessage,{query:o}));case"GEOCODING_SERVICE_ERROR":return(0,c.o3)(c.R0.serviceUnavailable("Geocoding service is temporarily unavailable"));default:return(0,c.o3)(c.R0.internalError(e.userMessage))}return console.error("Geocode API error:",e),(0,c.o3)(c.R0.internalError())}}async function p(){return(0,c.No)()}let l=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/geocode/route",pathname:"/api/geocode",filename:"route",bundlePath:"app/api/geocode/route"},resolvedPagePath:"/Users/harrison/Github/weather-oracle/packages/web/src/app/api/geocode/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:h}=l,R="/api/geocode/route";function f(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[879,299,457],()=>t(9256));module.exports=o})();